!function(){"use strict";function e(e){var t;switch(e){case 0:t="January";break;case 1:t="February";break;case 2:t="March";break;case 3:t="April";break;case 4:t="May";break;case 5:t="June";break;case 6:t="July";break;case 7:t="August";break;case 8:t="September";break;case 9:t="October";break;case 10:t="November";break;case 11:t="December";break;default:t="Date Input Error"}return t}function t(e){var t;switch(e){case 0:t="Sunday";break;case 1:t="Monday";break;case 2:t="Tuesday";break;case 3:t="Wednesday";break;case 4:t="Thursday";break;case 5:t="Friday";break;case 6:t="Saturday";break;default:t="Date Input Error"}return t}function n(e){var t,n=/^\s*(\d{4})-(\d\d)-(\d\d)\s*$/,i=new Date(0/0),r=n.exec(e);return r&&(t=+r[2],i.setFullYear(r[1],t-1,r[3]),t!=i.getMonth()+1&&i.setTime(0/0)),i}function i(){}$(function(){FastClick.attach(document.body)});var r=angular.module("msmApp",["ngRoute","ngSanitize","angulartics","angulartics.google.analytics"]);r.config(["$routeProvider","$logProvider",function(e,t){e.when("/",{templateUrl:"html/home.html"}).when("/about",{templateUrl:"html/about.html"}).when("/about_biblestudy",{templateUrl:"html/about_biblestudy.html"}).when("/about_thrive",{templateUrl:"html/about_thrive.html"}).when("/about_tmi",{templateUrl:"html/about_tmi.html"}).when("/updates_biblestudy",{templateUrl:"html/updates_biblestudy.html"}).when("/updates_thrive",{templateUrl:"html/updates_thrive.html"}).when("/updates_tmi",{templateUrl:"html/updates_tmi.html"}).when("/updates_upcoming",{templateUrl:"html/updates_upcoming.html"}).when("/podcasts",{templateUrl:"html/podcasts.html"}).when("/contact",{templateUrl:"html/contact.html"}).when("/blog",{templateUrl:"html/blog.html"}).when("/events",{templateUrl:"html/events.html"}).when("/news",{templateUrl:"html/news.html"}).when("/thankyou",{templateUrl:"html/thankyou.html"}).otherwise({redirectTo:"/"}),t.debugEnabled(!0)}]),r.service("selectedService",function(){var e,t={},n=function(){return e},i=function(n,i,r){i&&r&&(t[i]||(t[i]=""),t[i]=r),e=n,angular.forEach(t,function(){})};return{getSelected:n,setSelected:i}}),r.factory("BloggerPost",["$sanitize",function(i){var r={get:{img:function(e){var t=/<img([\w\W]+?)\/>/g,n=e.match(t);return e.replace(t,""),n},imgLink:function(e){var t=/<a([\w\W]+?)\<img([\w\W]+?)\/>/g,n=e.match(t);return e.replace(t,""),n},href:function(e){return e.match(/href="([\w\W]+?)"/g)},src:function(e){return e.match(/src="([\w\W]+?)"/g)}},replace:{tags:function(e){var t=/<div([^>]*)>|<\/div>|<img([^>]*)>|<\/img>|&#10;/g;return e.replace(t,"")},contentTags:function(e){e=e.replace(/&nbsp;/g," "),e=e.replace(/<br \/>|<br>/g,"<br/>");var t=/<div([^>]*)>|<\/div>|<span([^>]*)>|<\/span>|<p([^>]*)>|<\/p>/g;e=e.replace(t,"");var n='<span class="optimus">The Multiply Initiative</span>';return e=e.replace(/The Multiply Initiative/g,n)},contentTags2:function(){var e=value.content;e=e.replace(/&nbsp;/g," ");var t=/<div([^>]*)>|<\/div>|<span([^>]*)>|<\/span>|<p([^>]*)>|<\/p>|<h2([^>]*)>|<\/h2>|<h3([^>]*)>|<\/h3>|<h4([^>]*)>|<\/h4>/g;e=e.replace(t,"");var n='<span class="optimus">The Multiply Initiative</span>';e=e.replace(/The Multiply Initiative/g,n),value.content=e}}},o=function(o){var l,a,s,c,u,d,g,m,p,h={getTitle:function(){return l},hasTitle:function(e){return e===l?!0:!1},titleContains:function(e){return l.indexOf(e)>-1?!0:!1},getLabels:function(){return a},getImageLabel:function(){for(var e,t=0;t<a.length;t++)if("Image"===a[t].substr(0,5)){var n=a[t].indexOf(":");return e=a[t].substr(n+1,a[t].length)}return!1},hasLabel:function(e){for(var t=0;t<a.length;t++)if(a[t]===e)return!0;return!1},getHtml:function(){var e=r.replace.tags(c);return e},extractImgs:function(){return r.get.img(c)},extractImgSrcUrls:function(){var e=this.extractImgs(),t=[];if(e)for(var n=0;n<e.length;n++){var i=r.get.src(e[n]);t.push(i[0].substring(5,i[0].length-1))}return t},extractImgLinks:function(){var e=[],t=r.get.imgLink(c);if(t){for(var n=0;n<t.length;n++){var i=r.get.href(t[n]),o=r.get.src(t[n]),l=i[0].substring(6,i[0].length-1),a=o[0].substring(5,o[0].length-1);l!==a&&e.push({href:l,src:a})}var s=this.extractImgs();if(s)for(var n=0;n<s.length;n++){var o=r.get.src(s[n]),a=o[0].substring(5,o[0].length-1);n+1>e.length?e.push({href:"",src:a}):e[n].src!==a&&e.splice(n,0,{href:"",src:a})}}return e},appendPostInfo:function(){var i=l.indexOf(":"),r=l.substr(0,i),o=l.substr(i+1,l.length),a=n(r),s=n(r);s.setDate(s.getDate()+1);var c=a.getDate(),h=t(a.getDay()),f=e(a.getMonth()),b=a.getFullYear();l=o,u=r,d=a,m=s,g=b,p=h+", "+f+" "+c},removeContentTags:function(){return c=r.replace.contentTags(c)},getSubtitle:function(){return u},getDate:function(){return d},getDatePlusOne:function(){return m},getYear:function(){return g},getDateText:function(){return p}};return o&&(l=o.title,a=o.labels,s=o.content,c=i(s)),h};return o}]),r.factory("BloggerPostList",["BloggerPost",function(e){var t=function(t){var n=[],i={getPosts:function(){return n},sortByDate:function(){n.sort(function(e,t){return e.getDate()<t.getDate()?-1:e.getDate()>t.getDate()?1:0}),n.reverse()}};if(t&&t.items)for(var r=0;r<t.items.length;r++)n.push(new e(t.items[r]));return i};return t}]),r.controller("NewHomeController",["$scope","httpService","BloggerPostList",function(e,t,n){function i(){e.bullets.push({number:e.bullets.length})}function r(t,n,r){t+1>e.slides.length||!e.slides[t]?e.slides.push({url:n,src:r}):(e.slides[t].url=n,e.slides[t].src=r),i()}function o(){l=Swipe(document.getElementById("slider"),{startSlide:0,speed:400,auto:5e3,continuous:!0,disableScroll:!1,stopPropagation:!1,callback:function(t){e.changeActive(t)},transitionEnd:function(){}})}var l;e.slides=[{url:""},{url:""},{url:""}],e.bullets=[],e.changeActive=function(t){e.selectedBullet=e.bullets[t],e.$$phase||e.$apply()},e.click=function(t){e.selectedBullet=e.bullets[t.number],l.slide(t.number)},t.resetSimpleGet(),t.getLabeledPost("$Home").then(function(t){for(var i=new n(t),l=i.getPosts()[0],a=l.extractImgLinks(),s=0;s<a.length;s++)r(s,a[s].href,a[s].src);e.selectedBullet=e.bullets[0],e.$watchCollection("slides",function(e,t){e!==t&&o()})})}]),r.directive("msmHomeHeader",["$log",function(e){var t=function(t){e.debug("msm-home-header scope",t)},n={priority:0,template:function(){var e='<div class="row">       											<div style="height: 120px;" class="small-12 columns show-for-medium-up">       												<a href="#"><img style="max-height: 145px" src="img/logo-msm.png"></a> 											    	</div> 											    	<div style="height: 70px;" class="small-12 columns show-for-small"> 											      	<a href="#"><img style="max-height: 100px" src="img/logo-msm.png"></a> 											    	</div> 											  	</div>';return e},transclude:!1,restrict:"A",scope:{imgUrl:"@"},compile:function(){return t}};return n}]),r.controller("AboutController",["$log","$scope","httpService","BloggerPostList",function(e,t,n,i){function r(e){var n=e.getTitle(),i=e.getHtml(),r=e.extractImgSrcUrls()[0];t.slides.push({post:e,title:n,content:i,src:r}),t.options.push({value:t.options.length,post:e,title:n,content:i,src:r})}function o(e){for(var n=0;n<t.slides.length;n++)t.slides[n].isActive=!1;t.slides[e].isActive=!0}e.debug("AboutController $scope",t);var l={controllerName:"AboutController",title:"About Us",label:"$$$About Our Ministry"};t.slides=[],t.options=[];var a=function(e,n){t.subtitle=e.title,t.content=e.content,t.src=e.src,o(n)};t.selectSlide=function(e,t){a(e,t)},t.callback=function(e){a(t.slides[e],e),t.currentOption=t.options[e],t.$$phase||t.$apply()},n.resetSimpleGet(),n.getLabeledPost(l.label).then(function(e){var n=new i(e),o=n.getPosts();o[0]&&o[1]?(t.title=l.title,o[0].hasTitle("Our Youth Pastor")?(r(o[1]),r(o[0])):(r(o[0]),r(o[1])),t.selectSlide(t.slides[0],0),t.currentOption=t.options[0],t.$watchCollection("slides",function(e,n){e!==n&&t.createSwipe()})):t.title="Page Error; Please Refresh"},function(t){e.error(l.controllerName+": "+l.label,t)})}]),r.controller("AboutBibleStudyController",["$log","$scope","httpService","BloggerPostList",function(e,t,n,i){function r(e){var n=e.getTitle(),i=e.getSubtitle(),r=e.getHtml(),o=e.extractImgSrcUrls()[0];t.teachers.push({index:t.teachers.length,name:n,gradeLevel:i,content:r,img:o})}function o(){t.teachers.sort(function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})}t.teachers=[],t.about={},t.about.title="Bible Study",t.about.heading="About",t.loadTeacher=function(e){t.about.modal=e,$("#myModal").foundation("reveal","open")};var l={getPostsSundaySchool:function(r){var o="$$$Sunday Bible Fellowship";return n.getLabeledPost(o).then(function(n){e.debug(o+" data",n);var l=new i(n),a=l.getPosts();if(r)return e.error("SundaySchoolController:",o,"- STOP Chaining"),!0;var s=a[0];return s&&s.hasTitle("About: Bible Study")?(s.appendPostInfo(),t.about.title=s.getTitle(),t.about.content=s.getHtml(),t.about.heading=s.getSubtitle(),t.about.img=s.extractImgSrcUrls()[0],!1):(e.error("SundaySchoolController:",o,"- null data"),!0)},function(t){e.error("SundaySchoolController:",o,t)})},getPostsTeacherBios:function(t){var l="$$$Teacher Bios";return n.getLabeledPostRecursive(l).then(function(n){e.debug(l+" data",n);var a=new i(n),s=a.getPosts();if(t)return e.error("SundaySchoolController:",l,"- STOP Chaining"),!0;var c=s[0];if(c){for(var u=0;u<s.length;u++)s[u].removeContentTags(),s[u].appendPostInfo(),r(s[u]);return o(),!1}return e.error("SundaySchoolController:",l,"- null data"),!0},function(t){e.error("SundaySchoolController:",l,t)})}};n.resetSimpleGet(),l.getPostsSundaySchool().then(l.getPostsTeacherBios).then(function(){e.debug("Promise Chaining is DONE!!!!")})}]),r.controller("AboutThriveController",["$log","$scope","httpService","BloggerPostList",function(e,t,n,i){t.about={},t.about.title="Thrive",t.about.heading="About";var r={getPostsThrive:function(r){var o="$$$Thrive";return n.getLabeledPost(o).then(function(n){e.debug(o+" data",n);var l=new i(n),a=l.getPosts();if(r)return e.error("ThriveController:",o,"- STOP Chaining"),!0;var s=a[0];return s&&s.hasTitle("About: Thrive")?(s.appendPostInfo(),t.about.title=s.getTitle(),t.about.content=s.getHtml(),t.about.heading=s.getSubtitle(),t.about.img=s.extractImgSrcUrls()[0],!1):(e.error("ThriveController:",o,"- null data"),!0)},function(t){e.error("ThriveController:",o,t)})}};n.resetSimpleGet(),r.getPostsThrive().then(function(){e.debug("Promise Chaining is DONE!!!!")})}]),r.controller("AboutTMIController",["$log","$scope","httpService","BloggerPostList",function(e,t,n,i){t.about={},t.about.title="The Multiply Initiative",t.about.heading="About";var r={getPostsTMI:function(r){var o="$$$The Multiply Initiative";return n.getLabeledPost(o).then(function(n){e.debug(o+" data",n);var l=new i(n),a=l.getPosts();if(r)return e.error("ThriveController:",o,"- STOP Chaining"),!0;var s=a[0];return s&&s.hasTitle("About: The Multiply Initiative")?(s.appendPostInfo(),t.about.title=s.getTitle(),t.about.content=s.getHtml(),t.about.heading=s.getSubtitle(),t.about.img=s.extractImgSrcUrls()[0],!1):(e.error("ThriveController:",o,"- null data"),!0)},function(t){e.error("ThriveController:",o,t)})}};n.resetSimpleGet(),r.getPostsTMI().then(function(){e.debug("Promise Chaining is DONE!!!!")})}]),r.controller("UpdatesBibleStudy",["$log","$scope","httpService","BloggerPostList",function(e,t,n,i){function r(){t.title=o.title,t.subtitle=o.subtitle,t.current={},t.slideArray=[],t.isCurrent=!0,t.activeSlide=o.activeSlide,t.maxVisible=o.maxVisible,t.lastVisible=o.lastVisible}var o={controllerName:"UpdatesBibleStudy",title:"Bible Study",subtitle:"Updates",postHeading:"Updates",maxVisible:13,lastVisible:13,activeSlide:0,updateLabel:"$$$Sunday Bible Fellowship Updates"};t.loadSlide=function(e){t.activeSlide=e},t.loadArchives=function(){t.isCurrent=!1,t.maxVisible=t.slideArray.length-t.maxVisible,t.lastVisible=t.slideArray.length},t.loadCurrent=function(){t.isCurrent=!0,t.maxVisible=o.maxVisible,t.lastVisible=o.lastVisible},t.switchOption=function(){t.activeSlide=t.currentOption.index},t.$watch("activeSlide",function(e,n){n===e||isNaN(e)||(t.currentOption=t.slideArray[e])});var l={getPostsUpdates:function(r){return n.getLabeledPostRecursive(o.updateLabel).then(function(n){e.debug(o.updateLabel+" data",n);var l=new i(n),a=l.getPosts();if(r)return e.error(o.controllerName+" "+label,"- STOP Chaining"),!0;var s=a[0];if(s){for(var c=0;c<a.length;c++)a[c].removeContentTags(),a[c].appendPostInfo();return l.sortByDate(),angular.forEach(a,function(e,n){var i={heading:o.postHeading,index:n,title:e.getTitle(),date:e.getDateText(),content:e.getHtml()};t.slideArray.push(i)}),t.currentOption=t.slideArray[0],!1}return e.error("SundaySchoolController:",label,"- null data"),!0},function(t){e.error(o.controllerName+" "+label,t)})}};r(),n.resetSimpleGet(),l.getPostsUpdates().then(function(){e.debug("Promise Chaining is DONE!!!!")})}]),r.controller("UpdatesThrive",["$log","$scope","httpService","BloggerPostList",function(e,t,n,i){function r(){t.title=o.title,t.subtitle=o.subtitle,t.current={},t.slideArray=[],t.isCurrent=!0,t.activeSlide=o.activeSlide,t.maxVisible=o.maxVisible,t.lastVisible=o.lastVisible}var o={controllerName:"UpdatesThrive",title:"Thrive",subtitle:"Updates",postHeading:"Updates",maxVisible:13,lastVisible:13,activeSlide:0,updateLabel:"$$$Thrive Updates"};t.loadSlide=function(e){t.activeSlide=e},t.loadArchives=function(){t.isCurrent=!1,t.maxVisible=t.slideArray.length-t.maxVisible,t.lastVisible=t.slideArray.length},t.loadCurrent=function(){t.isCurrent=!0,t.maxVisible=o.maxVisible,t.lastVisible=o.lastVisible},t.switchOption=function(){t.activeSlide=t.currentOption.index},t.$watch("activeSlide",function(e,n){n===e||isNaN(e)||(t.currentOption=t.slideArray[e])});var l={getPostsUpdates:function(r){return n.getLabeledPostRecursive(o.updateLabel).then(function(n){e.debug(o.updateLabel+" data",n);var l=new i(n),a=l.getPosts();if(r)return e.error(o.controllerName+" "+label,"- STOP Chaining"),!0;var s=a[0];if(s){for(var c=0;c<a.length;c++)a[c].removeContentTags(),a[c].appendPostInfo();return l.sortByDate(),angular.forEach(a,function(e,n){var i={heading:o.postHeading,index:n,title:e.getTitle(),date:e.getDateText(),content:e.getHtml()};t.slideArray.push(i)}),t.currentOption=t.slideArray[0],!1}return e.error("SundaySchoolController:",label,"- null data"),!0},function(t){e.error(o.controllerName+" "+label,t)})}};r(),n.resetSimpleGet(),l.getPostsUpdates().then(function(){e.debug("Promise Chaining is DONE!!!!")})}]),r.controller("UpdatesTMI",["$log","$scope","httpService","BloggerPostList",function(e,t,n,i){function r(){t.title=o.title,t.subtitle=o.subtitle,t.current={},t.slideArray=[],t.isCurrent=!0,t.activeSlide=o.activeSlide,t.maxVisible=o.maxVisible,t.lastVisible=o.lastVisible}var o={controllerName:"UpdatesTMI",title:"The Multiply Initiative",subtitle:"Meditations",postHeading:"Meditations",maxVisible:15,lastVisible:15,activeSlide:0,updateLabel:"$$$Meditations"};t.loadSlide=function(e){t.activeSlide=e},t.loadArchives=function(){t.isCurrent=!1,t.maxVisible=t.slideArray.length-t.maxVisible,t.lastVisible=t.slideArray.length},t.loadCurrent=function(){t.isCurrent=!0,t.maxVisible=o.maxVisible,t.lastVisible=o.lastVisible},t.switchOption=function(){t.activeSlide=t.currentOption.index},t.$watch("activeSlide",function(e,n){n===e||isNaN(e)||(t.currentOption=t.slideArray[e])});var l={getPostsUpdates:function(r){return n.getLabeledPostRecursive(o.updateLabel).then(function(n){e.debug(o.updateLabel+" data",n);var l=new i(n),a=l.getPosts();if(r)return e.error(o.controllerName+" "+label,"- STOP Chaining"),!0;var s=a[0];if(s){for(var c=0;c<a.length;c++)a[c].removeContentTags(),a[c].appendPostInfo();return l.sortByDate(),angular.forEach(a,function(e,n){var i={heading:o.postHeading,index:n,title:e.getTitle(),date:e.getDateText(),content:e.getHtml()};t.slideArray.push(i)}),t.currentOption=t.slideArray[0],!1}return e.error("SundaySchoolController:",label,"- null data"),!0},function(t){e.error(o.controllerName+" "+label,t)})}};r(),n.resetSimpleGet(),l.getPostsUpdates().then(function(){e.debug("Promise Chaining is DONE!!!!")})}]),r.factory("RawBloggerPosts",["$log","$http","$q",function(e,t,n){var i="AIzaSyBwh5B3d-nVf8Ut6mf690Id5miFFQ01s0M",r="1357003820482584675",o="https://www.googleapis.com/blogger/v3/blogs/"+r+"/posts?maxResults=20",l=function(r){var l=n.defer(),a={items:new Array},s=function(n,r){var c=o;r&&(c+="&pageToken="+r),c+="&labels="+n+"&fields=nextPageToken, items(title, published, labels, content)&key="+i+"&callback=JSON_CALLBACK",t.jsonp(c).success(function(e){a.items.push.apply(a.items,e.items),e.nextPageToken?s(n,e.nextPageToken):l.resolve(a)}).error(function(t){e.error("Error: data",t)})};s(r);var c={getPromise:function(){return l.promise}};return c};return l}]),r.service("eventImgService",["$log","$q","RawBloggerPosts","BloggerPostList",function(e,t,n,i){e.debug("--------------------------------Service: defaultImgService--------------------------------");var r=this,o={},l="img/Smushed/upcoming-default.jpg",a="img/Smushed/upcoming-default.jpg",s="Event Images",c=new n(s),u=c.getPromise().then(function(t){e.debug("eventImgService > data",t);for(var n=new i(t),r=n.getPosts(),l=0;l<r.length;l++){var a=r[l].extractImgSrcUrls();a&&1===a.length?o[r[l].getTitle()]={post:r[l],gtmd:r[l].extractImgSrcUrls()[0],sm:r[l].extractImgSrcUrls()[0]}:a&&2===a.length&&(o[r[l].getTitle()]={post:r[l],gtmd:r[l].extractImgSrcUrls()[0],sm:r[l].extractImgSrcUrls()[1]})}e.debug("_defaultImgs",o)});r.init=function(){return u},r.getImageLarge=function(e){return o[e]?o[e].gtmd:l},r.getImageSmall=function(e){return o[e]?o[e].sm:a},r.hideTitle=function(e){return o[e]?o[e].post.hasLabel("Hide Title"):!1},r.hideDate=function(e){return o[e]?o[e].post.hasLabel("Hide Date"):!1},r.hideClick=function(e){return o[e]?o[e].post.hasLabel("Hide Click"):!1}}]),r.controller("UpdatesUpcoming",["$log","$scope","httpService","BloggerPostList","eventImgService",function(e,t,n,i,r){function o(e,t){var n={title:t.getTitle(),date:t.getDate(),dateText:t.getDateText(),content:t.getHtml()};u(n,t),e.push(n)}function l(e,t){var n=t.getYear();e>t.getDatePlusOne()?c[n]||(c[n]={year:n,events:new Array}):n&&(s[n]||(s[n]={year:n,events:new Array}),o(s[n].events,t))}var a={controllerName:"UpdatesUpcoming",title:"Upcoming Events",label:"$$$Upcoming Events"};t.callback=function(){},t.title=a.title,t.allUpcomingEvents;var s={},c={},u=function(t,n){t.imgLarge="img/Smushed/upcoming-default.jpg",t.imgSmall="img/Smushed/upcoming-default.jpg",t.showTitleGtMd=!0,t.showDateGtMd=!0,t.showClickGtMd=!0,t.showTitleSm=!0,t.showDateSm=!0,t.showClickSm=!0;var i=n.getImageLabel();if(i){var o=i.trim();t.imgLarge=r.getImageLarge(o),t.imgSmall=r.getImageSmall(o),e.debug("eventObj.imgLarge",t.imgLarge),e.debug("eventObj.imgSmall",t.imgSmall),r.hideTitle(o)&&(t.showTitleGtMd=!1,t.showTitleSm=!1),r.hideDate(o)&&(t.showDateGtMd=!1,t.showDateSm=!1),r.hideClick(o)&&(t.showClickGtMd=!1,t.showClickSm=!1)}console.log("post.title"+n.getTitle()),n.titleContains("Street Reach")&&(t.imgLarge="img/upcoming-missions-street-reach.png",t.imgSmall="img/upcoming-missions-street-reach.png"),n.titleContains("Winter Retreat")&&(t.imgLarge="img/upcoming-events-winter-retreat.png",t.imgSmall="img/upcoming-events-winter-retreat.png"),n.titleContains("Camp Mitchell")&&(t.imgLarge="img/upcoming-events-summer-camp.png",t.imgSmall="img/upcoming-events-summer-camp.png");var l=n.extractImgSrcUrls();l&&1===l.length?(t.imgLarge=l[0],t.imgSmall=l[0]):l&&2===l.length&&(t.imgLarge=l[0],t.imgSmall=l[1]),n.hasLabel("Hide Title")&&(t.showTitleGtMd=!1,t.showTitleSm=!1),n.hasLabel("Hide Date")&&(t.showDateGtMd=!1,t.showDateSm=!1),n.hasLabel("Hide Click")&&(t.showClickGtMd=!1,t.showClickSm=!1)},d={getUpcomingEvents:function(){return n.resetRecursiveGet(),n.getLabeledPostRecursive(a.label).then(function(n){e.debug(a.label+" data",n);var r=new i(n),o=r.getPosts(),c=o[0];if(c){for(var u=new Date,d=0;d<o.length;d++)o[d].appendPostInfo(),l(u,o[d]);angular.forEach(s,function(e){e.events.sort(function(e,t){return e.date<t.date?-1:e.date>t.date?1:0})})}t.allUpcomingEvents=s},function(t){e.error(a.controllerName+": "+a.label,t)})}};r.init().then(d.getUpcomingEvents).then(function(){e.debug("Promise Chaining is DONE!!!!")})}]),r.directive("msmEventImg",["$log",function(){var e=function(){},t={priority:0,template:function(){var e='<div class="show-for-medium-up" back-img="{{ urlGtMd }}"     												ng-transclude       											style="width: 100%; height: 360px;       											background-repeat: no-repeat;       											background-position: center;       											background-size: contain;">     											</div>             							<div class="show-for-small" back-img="{{ urlSm }}"           									ng-transclude       											style="width: 100%; height: 360px;       											background-repeat: no-repeat;       											background-position: center;       											background-size: contain;">         									</div>';return e},transclude:!0,restrict:"A",scope:{urlGtMd:"=",urlSm:"="},compile:function(){return e}};return t}]),r.directive("msmEventLabel",["$log",function(){var e=function(e){e.showTitleGtMd&&(e.showTitleGtMd=!0),e.showDateGtMd&&(e.showDateGtMd=!0),e.showClickGtMd&&(e.showClickGtMd=!0),e.showTitleSm&&(e.showTitleSm=!0),e.showDateSm&&(e.showDateSm=!0),e.showClickSm&&(e.showClickSm=!0)},t={priority:0,template:function(){var e='<div style="position: absolute; width: 100%; height: 100%; z-index: 2;       											background: linear-gradient(165deg, rgba(0, 0, 0, 0.8) 0%, rgba(0, 0, 0, 0.4) 30%, rgba(0, 0, 0, 0) 40%, rgba(0, 0, 0, 0) 70%, rgba(0, 0, 0, 0.4) 80%, rgba(0, 0, 0, 0.8) 100%);"></div> 						              <div class="show-for-medium-up" style="position: absolute; width: 100%; height: 100%; z-index: 3;"> 						                <h1 ng-if="showTitleGtMd" style="padding-top: 10px; padding-left: 10px; color: #fff; "> 						                	{{ title }} 					                	</h1> 						                <h2 ng-if="showDateGtMd" style="padding-top: 10px; padding-left: 10px; color: #fff; "> 						                	{{ date }} 						                </h2> 						                <h3 ng-if="showClickGtMd" style="position: absolute; bottom: 10px; right: 10px; color: #fff; "> 						                	Click Here To Learn More. 					                	</h3> 						              </div> 						              <div class="show-for-small-only" style="position: absolute; width: 100%; height: 100%; z-index: 3;"> 						                <h1 ng-if="showTitleSm" style="padding-top: 10px; padding-left: 10px; color: #fff; "> 						                	{{ title }} 					                	</h1> 						                <h2 ng-if="showDateSm" style="padding-top: 10px; padding-left: 10px; color: #fff; "> 						                	{{ date }} 					                	</h2> 						                <h3 ng-if="showClickSm" style="position: absolute; bottom: 10px; right: 10px; color: #fff; "> 					                		Click Here To Learn More. 				                		</h3> 						              </div>';return e},transclude:!1,restrict:"A",scope:{title:"=",date:"=",showTitleGtMd:"=?",showDateGtMd:"=?",showClickGtMd:"=?",showTitleSm:"=?",showDateSm:"=?",showClickSm:"=?"},compile:function(){return e}};return t}]),r.directive("backImg",function(){return{restrict:"A",link:function(e,t,n){var i=n.backImg;e.setImg=function(){t.css({"background-image":"url("+i+")"})},e.setImg()}}}),r.controller("PodcastsController",["$log","$scope","httpService",function(i,r,o){function l(e){s.src=e,s.load()}function a(){s.play()}angular.element("#audioPlayer").audioPlayer({classPrefix:"audioplayer",strPlay:"Play",strPause:"Pause",strVolume:"Volume"});var s=document.getElementById("audioPlayer");r.callback=function(){},r.playThis=function(e){if(r.allPodcasts&&r.allPodcasts[e]){r.currentSermon=r.allPodcasts[e];var t=r.allPodcasts[e].dblink;l(t),r.prevSlide(),a()}},r.searchTypes=[{type:"By Title"},{type:"By Speaker"},{type:"By Series"}],r.searchType=r.searchTypes[0],r.show={title:!0,speaker:!1,series:!1},r.switchType=function(){switch(r.show.title=!1,r.show.speaker=!1,r.show.series=!1,r.searchType.type){case"By Title":r.show.title=!0;break;case"By Speaker":r.show.speaker=!0;break;case"By Series":r.show.series=!0}};var c="$Podcasts";r.title=c.substr(1,c.length),r.allPodcasts={},o.resetSimpleGet(),o.getLabeledPost(c).then(function(i){if(i.items[0]){var o=i.items[0].content,a=o.toString();if(a){var s=JSON.parse(a);s&&(angular.forEach(s,function(i){var r=n(i.date);i.dayNumber=r.getDate(),i.day=t(r.getDay()),i.month=e(r.getMonth()),isNaN(i.dayNumber)?(i.month="No Date",i.dayNumber="",i.day=""):i.date=i.month+" "+i.dayNumber+", "+r.getFullYear()}),r.allPodcasts=s,r.allPodcasts&&(r.currentSermon=r.allPodcasts[0],r.currentSermon&&(l(r.currentSermon.dblink),r.createSwipe())))}}},function(e){i.error("PodcastsController: $Podcasts",e)})}]),r.controller("ContactController",["$log","$scope","httpService",function(e,t,n){n.resetSimpleGet(),n.getLabeledPost("$Contact").then(function(e){if(e.items[0]){var n=e.items[0];t.title=n.title,t.content=n.content}else t.title="Page Error";i()},function(t){e.error("ContactController: $Contact",t)})}]),r.controller("TopBar",["$scope",function(e){function t(){for(var t=0;t<e.items.length;t++)if(e.items[t].nested.length>0)for(var n=0;n<e.items[t].nested.length;n++)e.items[t].nested[n].url===document.location.hash?(e.items[t].nested[n].selected=!0,r=e.items[t].nested[n],e.items[t].selected=!0,o=e.items[t]):e.items[t].nested[n].selected=!1;else e.items[t].url===document.location.hash?(e.items[t].selected=!0,r=e.items[t],o=e.items[t]):e.items[t].selected=!1}function n(){l.foundation("offcanvas","toggle","move-right")}function i(){window.orientation;a===!0&&c()}e.items=[{name:"Home",url:"#/",dropdown:!1,nested:[]},{name:"About Us",url:null,dropdown:!0,nested:[{name:"About Our Ministry",url:"#/about",nested:[]},{name:"Bible Study",url:"#/about_biblestudy",nested:[]},{name:"Thrive",url:"#/about_thrive",nested:[]},{name:"The Multiply Initiative",url:"#/about_tmi",nested:[]}]},{name:"Ministry Updates",url:"",dropdown:!0,nested:[{name:"Bible Study",url:"#/updates_biblestudy",dropdown:!1,nested:[]},{name:"Thrive",url:"#/updates_thrive",dropdown:!1,nested:[]},{name:"The Multiply Initiative",url:"#/updates_tmi",dropdown:!1,nested:[]},{name:"Upcoming Events",url:"#/updates_upcoming",dropdown:!1,nested:[]}]},{name:"Podcasts",url:"#/podcasts",dropdown:!1,nested:[]},{name:"Contact",url:"#/contact",dropdown:!1,nested:[]}];var r,o,l=$(".off-canvas-wrap");e.select=function(e,t){e.dropdown||(r.selected=!1,e.selected=!0,r=e,t?(o.selected=!1,t.selected=!0,o=t):o.selected=!1),$(".top-bar").removeClass("expanded"),c()},e.toggleOpen=function(){n()};var a=!1,s=$("body");s.addClass("slide-from-side-closed"),e.toggleSlide=function(){c()};var c=function(){a===!1?(s.removeClass("slide-from-side-closed"),s.addClass("slide-from-side-open")):(s.removeClass("slide-from-side-open"),s.addClass("slide-from-side-closed")),a=!a};t(),window.addEventListener("orientationchange",i)}]),r.directive("topBarListItems",["$log",function(e){var t=function(t){e.debug("tob-bar-list-item scope",t),t.select=function(e,n){t.selectFn({item:e,topItem:n})}},n={priority:0,template:function(){var e='<ul class="left menu-options"> 						                <li ng-repeat="item in items" 						                	ng-class="{ 					                			active: item.selected, 					                			\'has-dropdown\': item.dropdown 						                	}"> 						                  <a ng-if="!item.dropdown" 						                  	ng-click="select(item)" 						                  	href="{{item.url}}"> 						                  	{{item.name}} 					                  	</a> 						                  <a ng-if="item.dropdown">{{item.name}}</a> 						                  <ul ng-if="item.dropdown" class="dropdown"> 						                    <li ng-repeat="subItem in item.nested" 						                    	ng-class="{ 							                			active: subItem.selected 								                	}"> 						                    	<a ng-click="select(subItem, item)" 						                    		href="{{subItem.url}}"> 						                    		{{subItem.name}} 					                    		</a> 					                    	</li> 						                  </ul> 						                </li> 					                </ul>';return e},transclude:!1,restrict:"A",scope:{items:"=",selectFn:"&"},compile:function(){return t}};return n}]),r.directive("offCanvasListItems",["$log",function(e){var t=function(t){e.debug("off-canvas-list-item scope",t),t.select=function(e,n){t.selectFn({item:e,topItem:n})}},n={priority:0,template:function(){var e='<ul class="off-canvas-list"> 									          <li><label>Multiply Student Ministry</label></li> 									          <li ng-repeat="item in items" ng-class="{ \'has-submenu\': item.dropdown }"> 									            <a ng-if="!item.dropdown" ng-click="select(item)" href="{{item.url}}">{{ item.name }}</a> 									            <a ng-if="item.dropdown">{{ item.name }}</a> 									            <ul ng-if="item.dropdown" class="left-submenu"> 									              <li class="back"><a>Back</a></li> 									              <li><label>{{ item.name }}</label></li> 									              <li ng-repeat="subItem in item.nested"> 									              	<a ng-click="select(subItem, item)" href="{{ subItem.url }}"> 									              		{{ subItem.name }} 								              		</a> 								              	</li> 									            </ul> 									          </li> 									        </ul>';return e},transclude:!1,restrict:"A",scope:{items:"=",selectFn:"&"},compile:function(){return t}};return n}]),r.directive("infiniteSwipe",["$log","$compile",function(e){var t=function(t,n){e.debug("infinite-swipe scope",t);var i=500,r=!0,o=!0,l=!0,a={carousel:null,minLength:t.minLength,init:function(){n.height(t.fixedHeight?t.fixedHeight:i),a.carousel=new SwipeView(t.swipeElement[0],{numberOfPages:t.slides.length,hastyPageFlip:!0,loop:!1}),t.swipeElement[0].style.overflowX="hidden",t.swipeElement[0].style.overflowY="scroll",a.loadInitialData(),a.carousel.onFlip(a.onFlipHandler)},loadInitialData:function(){for(var e=0;3>e;e++){var n;n=0===e?t.slides.length:e-1;var i=document.createElement("div");i.className="infiniteSwipe",a.setSlideContent(i,t.slides[n]),0===n&&(t.heading=t.slides[n].heading),a.carousel.masterPages[e].appendChild(i)}},onFlipHandler:function(){for(var e,n,i=0;3>i;i++)n=a.carousel.masterPages[i].dataset.upcomingPageIndex,n!=a.carousel.masterPages[i].dataset.pageIndex&&(e=a.carousel.masterPages[i].querySelector("div"),a.setSlideContent(e,t.slides[n]));r&&!t.$$phase?t.$apply(function(){t.heading=t.slides[a.carousel.pageIndex].heading,t.activeIndex=a.carousel.pageIndex,o=!1}):(t.heading=t.slides[a.carousel.pageIndex].heading,t.activeIndex=a.carousel.pageIndex,r=!0)},setSlideContent:function(e,t){if(t){var n="<h2>"+t.title+"</h2>",i="<h3>"+t.date+"</h3>";e.innerHTML=n+i+t.content}}},s=!1;t.$watchCollection("slides",function(e){e&&e.length>=a.minLength&&(a.init(),s&&($("#swipeview-masterpage-1").append(t.compiledElem),s=!1))}),t.$watch("activeIndex",function(e){l&&(o&&!isNaN(e)&&t.slides.length>=a.minLength&&(r=!1,c(e)),o=!0)}),t.$watch("compiledElem",function(e){e&&(s=!0)});var c=function(e){2>e?(l=!1,a.carousel.goToPage(e),l=!0):(l=!1,a.carousel.goToPage(e-2),a.carousel.next(),a.carousel.next(),l=!0)};t.nextSlide=function(){a.carousel.next()},t.prevSlide=function(){a.carousel.prev()},$(document).keyup(function(e){37===e.which&&t.prevSlide(),39===e.which&&t.nextSlide()})},n={priority:0,template:function(){var e='<div style="height: 100%;"> 	    											<div class="clearfix" style="height: 112px;"> 												      <a class="no-text-select left" ng-click="prevSlide()"><i class="fi-arrow-left" style="color: #ff2701; font-size: 3em;"></i></a> 												      <a class="no-text-select right" ng-click="nextSlide()"><i class="fi-arrow-right" style="color: #ff2701; font-size: 3em;"></i></a> 												      <h1 class="text-center" style="margin: 0;">{{ heading }}</h1> 												      <h2 class="hide-for-touch text-center" style="margin: 0;"><small>Use arrow keys to navigate</small></h2> 												      <h2 class="show-for-touch text-center" style="margin: 0;"><small>Swipe or use arrow keys to navigate</small></h2> 												    </div> 	      										<div style="height: calc(100% - 112px); 	      											padding: 1.25rem; 											      	border-style: solid; 											      	border-width: 1px; 											      	border-color: #d9d9d9; 											      	background-color: #f2f2f2;"> 											      	<div ng-scope-element="swipeElement" 											      		style="height: 100%; 											      		-webkit-overflow-scrolling: touch; 											      		overflow-x: hidden !important; 											      		overflow-y: scroll !important;"> 										      		</div> 									      		</div>       										</div>';
return e},transclude:!1,restrict:"A",scope:{slides:"=",minLength:"=",activeIndex:"=",fixedHeight:"=",compiledElem:"="},compile:function(){return t}};return n}]),r.directive("swipejs",function(){var e;return function(t,n){t.createSwipe=function(){e=Swipe(n[0],{startSlide:0,speed:400,auto:0,continuous:!1,disableScroll:!1,stopPropagation:!1,callback:function(){},transitionEnd:function(e){t.callback(e)}}),t.swipe=e},t.prevSlide=function(){e.prev()},t.nextSlide=function(){e.next()},t.slideTo=function(t){console.log("swipe",e),e.slide(t,400)},angular.element(document).keyup(function(e){37===e.which&&t.prevSlide(),39===e.which&&t.nextSlide()})}}),r.directive("swipeEvent",function(){return{restrict:"A",link:function(e,t){var n=!0;e.createSwipe=function(){e.swipe=Swipe(t[0],{startSlide:0,speed:400,auto:0,continuous:!1,disableScroll:!1,stopPropagation:!0,callback:function(){},transitionEnd:function(){}})},e.createSwipe(),e.toggle=function(){n?e.swipe.next():e.swipe.prev(),n=!n},e.prevSlide=function(){e.swipe.prev()},e.nextSlide=function(){e.swipe.next()}}}}),r.directive("newsItem",function(){return{restrict:"E",template:'<div class="expand-on-small panel hero shadowed-image"><div class="small-12 large-12 columns"><h3>{{news.title}}</h3><h4>{{news.dateText}}</h4><br/></div><div class="row transparent"><div class="small-12 large-12 columns"><div ng-bind-html="news.content" class="panel shadowed-image"></div></div></div></div>',replace:!0,link:function(){}}}),r.directive("weeklyEvent",["$http","$compile","$location",function(e,t,n){return{restrict:"E",template:"<div></div>",controller:"weeklyController",link:function(i,r){var o=n.$$hash,l="html/"+o+".html";"biblestudy"===o?(i.isBibleStudy=!0,i.isSundaySchool=!1):"sundayschool"===o&&(i.isBibleStudy=!1,i.isSundaySchool=!0),e.get(l).then(function(e){var n=e.data;r.html(n),t(r.contents())(i)}),i.$watch("url",function(n){n&&e.get(n).then(function(e){var n=e.data;r.html(n),t(r.contents())(i)})})}}}]),r.directive("podcast",function(){return{restrict:"E",template:'<div class="podcasts small-12 large-12 columns panel shadowed-image"><div class="small-12 large-2 columns"><a href="#" class="button"><i class="foundiconacc-speaker"></i> Listen </a></div><div class="small-12 large-2 columns"><p>August 13, 2013</p></div><div class="small-12 large-6 columns"><h3>Nathan Ramirez</h3><h2>Final Camp Exhortation</h2></div><div class="small-12 large-2 columns"><a href="Nathan Camp Final Exortation.mp3"><i class="foundicongen-inbox"></i> Download </a></div></div>',link:function(){}}}),r.directive("chosenPodcast",function(){return{restrict:"E",template:'<div style="height: 300px; background: #f5f4f0 url(\'img/Smushed/podcasts-art.jpg\') center top repeat-y; background-size: cover"><div class="small-12 medium-6 columns" style="height: 300px; overflow-y: scroll; color: #fff;"><h3 style="color: #fff;">{{currentSermon.title}}</h3><h4 style="color: #fff;">{{currentSermon.speaker}}</h4><h4 style="color: #fff;">{{currentSermon.series}}</h4><p>{{currentSermon.date}}</p><p><strong>Passage/Topic: {{currentSermon.passage}}</strong></p><p class="show-for-small">{{currentSermon.description}}</p></div><div class="hide-for-small small-12 medium-6 columns" style="height: 300px; overflow-y: scroll; color: #fff;"><p>{{currentSermon.description}}</p></div></div>',link:function(){}}}),r.directive("ngScopeElement",function(){var e={restrict:"A",compile:function(){return{pre:function(e,t,n){e[n.ngScopeElement]=t}}}};return e}),r.controller("FeedCtrl",["$scope","httpService",function(e,t){e.loadButonText="Load",e.posts,t.getBlogPosts().success(function(t){console.log("posts",t),e.posts=t.items}).error(function(){}),t.getBlog().success(function(t){console.log("blog",t.items),e.blog=t.items}).error(function(){})}]),r.service("httpService",["$log","$http","$q",function(e,t,n){var i=this,r="AIzaSyBwh5B3d-nVf8Ut6mf690Id5miFFQ01s0M",o="1357003820482584675";i.getBlog=function(){var e="https://www.googleapis.com/blogger/v3/blogs/"+o+"?key="+r+"&callback=JSON_CALLBACK";return t.jsonp(e)},i.getBlogPosts=function(){var e="https://www.googleapis.com/blogger/v3/blogs/"+o+"/posts?maxPosts=9999&key="+r+"&callback=JSON_CALLBACK";return t.jsonp(e)};var l={deferred:null,mainLabel:"",container:{items:new Array},getPost:function(){var n="https://www.googleapis.com/blogger/v3/blogs/"+o+"/posts?maxResults=20&labels="+l.mainLabel+"&fields=nextPageToken,items(title,published,labels,content)&key="+r+"&callback=JSON_CALLBACK";t.jsonp(n).success(function(e){l.container.items.push.apply(l.container.items,e.items),l.deferred.resolve(l.container)}).error(function(t){e.error("httpService: simpleGet",t)})},resetGet:function(){l.deferred=n.defer(),l.mainLabel="",l.container={items:new Array}}};i.getLabeledPost=function(e){return l.resetGet(),l.deferred=n.defer(),l.mainLabel=e,l.getPost(),l.deferred.promise},i.resetSimpleGet=function(){l.resetGet()};var a={deferred:null,mainLabel:"",container:{items:new Array},getPost:function(e,n){var i="https://www.googleapis.com/blogger/v3/blogs/"+o+"/posts?maxResults=20";n&&(i+="&pageToken="+n),i+="&labels="+a.mainLabel+"&fields=nextPageToken,items(title,published,labels,content)&key="+r+"&callback=JSON_CALLBACK",t.jsonp(i).success(function(e){a.container.items.push.apply(a.container.items,e.items),e.nextPageToken?a.getPost(a.mainLabel,e.nextPageToken):a.deferred.resolve(a.container)}).error(function(){})},resetGet:function(){a.deferred=n.defer(),a.mainLabel="",a.container={items:new Array}}};i.getLabeledPostRecursive=function(e){return a.resetGet(),a.deferred=n.defer(),a.mainLabel=e,a.getPost(),a.deferred.promise},i.resetRecursiveGet=function(){a.resetGet()}}]),r.controller("SlidesController",function(){console.log("SlidesController"),$(function(){console.log("run after doc load")})}),r.controller("JoyrideController",["$scope",function(e){e.tour=function(){console.log("joyride controller working!")}}]),r.controller("InitializeController",[function(){$(document).foundation()}]),r.controller("HomeController",["$scope","httpService",function(r,o){var l="$$Upcoming Ministry Events",a={};r.nextEvent,o.getLabeledPostRecursive(l).then(function(i){var o=new Date;angular.forEach(i.items,function(i){var r=i.title.indexOf(":"),l=i.title.substr(0,r),s=i.title.substr(r+1,i.title.length),c=n(l),u=c.getDate(),d=t(c.getDay()),g=e(c.getMonth()),m=c.getFullYear();i.title=s,i.date=c,i.dateText=d+", "+g+" "+u,o>c||m&&(a[c]||(a[c]=i))});var l;angular.forEach(a,function(e){l?l>e.date&&(l=e.date):l=e.date}),r.nextEvent=a[l]}).then(function(){o.resetRecursiveGet();var l="$News/Updates";r.currentNews;var a=(new Array,new Array),s=(new Array,{0:{title:"Current News/Updates",data:{}}});o.resetRecursiveGet(),o.getLabeledPostRecursive(l).then(function(o){var l=new Date;angular.forEach(o.items,function(i){{var r=i.title.indexOf(":"),o=i.title.substr(0,r),s=i.title.substr(r+1,i.title.length),c=n(o),u=c.getDate(),d=t(c.getDay()),g=e(c.getMonth());c.getFullYear()}if(i.title=s,i.date=c,i.dateText="For "+d+", "+g+" "+u,i.labels.indexOf("Sunday School Update")>=0||i.labels.indexOf("Bible Study Update")>=0){var m=new Date(i.date.getTime()-6048e5);i.date=m}var p=new Date(i.date.getTime()+6912e5),h=new Date(i.date.getTime()+864e5);i.date>l||l>p||(i.labels.indexOf("Sunday School Update")>=0||i.labels.indexOf("Bible Study Update")>=0?l>h&&a.push(i):a.push(i))}),s[0].data=a,angular.forEach(s,function(e){e.data.sort(sortBlogPosts),e.data.reverse()}),r.currentNews=s[0].data,angular.element(document).foundation("orbit",{});var c=angular.element(".orbit-container img").first().height()+20;angular.element(".orbit-slides-container").css({"min-height":c}),i()})})}]),r.controller("BibleStudyController",["$log","$scope","httpService",function(e,t,n){t.options=[{value:0,title:"temp",content:"temp"},{value:1,title:"temp",content:"temp"}],t.switchOption=function(){null!=t.currentOption&&(0===t.currentOption.value?t.getBibleStudyTemplate():1===t.currentOption.value&&t.getSundaySchoolTemplate(),t.swipe.slide(t.currentOption.value))},t.callback=function(e){t.currentOption=t.options[e],t.$$phase||t.$apply()};var i,r,o={bibleStudy:{},sundaySchool:{}};n.resetSimpleGet(),n.getLabeledPost("$$Weekly Ministries").then(function(e){if(e.items[0]&&e.items[1]){var n=e.items[0].labels[0];if("$$"!==n.substr(0,2))return t.title="Page Error","";t.title="Weekly Bible Study","Weekly Bible Study"===e.items[0].title?(i=e.items[0],r=e.items[1]):(i=e.items[1],r=e.items[0]),o.sundaySchool.title=r.title,o.sundaySchool.content=r.content,o.bibleStudy.title=i.title,o.bibleStudy.content=i.content,t.getBibleStudyTemplate(),t.options[0].title=r.title,t.options[0].content=r.content,t.options[0].img="img/Smushed/weekly-2-banner.jpg",t.options[0].mapLink="https://maps.google.com/maps?q=1411+kennoway+park,+Spring+TX,+77379&hl=en&sll=31.168934,-100.076842&sspn=10.237092,8.76709&hnear=1411+Kennoway+Park+Dr,+Spring,+Texas+77379&t=m&z=16",t.options[0].mapImg="http://maps.googleapis.com/maps/api/staticmap?center=24724+Aldine+Westfield+Rd,+Spring,+Texas+77373&zoom=13&size=600x300&maptype=roadmap&markers=color:red%7Ccolor:red%7Clabel:A%7C24724+Aldine+Westfield+Rd,+Spring,+Texas+77373&sensor=false",t.options[1].title=i.title,t.options[1].content=i.content,t.options[1].img="img/Smushed/weekly-1-banner.jpg",t.options[1].mapLink="https://maps.google.com/maps?q=24724+aldine+westfield,+spring+TX,+77373&hl=en&ll=30.065213,-95.401046&spn=0.010047,0.01457&sll=31.168934,-100.076842&sspn=10.762073,12.436523&hnear=24724+Aldine+Westfield+Rd,+Spring,+Texas+77373&t=m&z=16",t.options[1].mapImg="http://maps.googleapis.com/maps/api/staticmap?center=1411+kennoway+park,+Spring+TX,+77379&zoom=14&size=600x300&maptype=roadmap&markers=color:red%7Ccolor:red%7Clabel:A%7C1411+kennoway+park,+Spring+TX,+77379&sensor=false",t.currentOption=t.options[0]}else t.title="Page Error"},function(t){e.error("WeeklyController: $$Weekly Ministries",t)}),t.getBibleStudyTemplate=function(){t.image="img/Smushed/weekly-1-banner.jpg",t.subtitle=o.bibleStudy.title,t.content=o.bibleStudy.content,t.mapLink="https://maps.google.com/maps?q=1411+kennoway+park,+Spring+TX,+77379&hl=en&sll=31.168934,-100.076842&sspn=10.237092,8.76709&hnear=1411+Kennoway+Park+Dr,+Spring,+Texas+77379&t=m&z=16",t.mapImg="http://maps.googleapis.com/maps/api/staticmap?center=1411+kennoway+park,+Spring+TX,+77379&zoom=14&size=600x300&maptype=roadmap&markers=color:red%7Ccolor:red%7Clabel:A%7C1411+kennoway+park,+Spring+TX,+77379&sensor=false",t.isBibleStudy=!0,t.isSundaySchool=!1},t.getSundaySchoolTemplate=function(){t.image="img/Smushed/weekly-2-banner.jpg",t.subtitle=o.sundaySchool.title,t.content=o.sundaySchool.content,t.mapLink="https://maps.google.com/maps?q=24724+aldine+westfield,+spring+TX,+77373&hl=en&ll=30.065213,-95.401046&spn=0.010047,0.01457&sll=31.168934,-100.076842&sspn=10.762073,12.436523&hnear=24724+Aldine+Westfield+Rd,+Spring,+Texas+77373&t=m&z=16",t.mapImg="http://maps.googleapis.com/maps/api/staticmap?center=24724+Aldine+Westfield+Rd,+Spring,+Texas+77373&zoom=13&size=600x300&maptype=roadmap&markers=color:red%7Ccolor:red%7Clabel:A%7C24724+Aldine+Westfield+Rd,+Spring,+Texas+77373&sensor=false",t.isBibleStudy=!1,t.isSundaySchool=!0}}])}();